topology:
  name: "L2 Switch Topology"

nodes:
  - name: "L2Sw"
    # L2 Switch - center of the topology
    # All interfaces in L2 mode for switching (no IP addresses)
    interfaces:
      - name: "eth0/1"
      - name: "eth0/2"
      - name: "eth0/3"
      - name: "eth0/4"
    
  - name: "H1"
    loopback: "122.1.1.1"
    interfaces:
      - name: "eth0/5"
        ip: "10.1.1.2"
        mask: 24
    
  - name: "H2"
    loopback: "122.1.1.2"
    interfaces:
      - name: "eth0/8"
        ip: "10.1.1.4"
        mask: 24
    
  - name: "H3"
    loopback: "122.1.1.3"
    interfaces:
      - name: "eth0/6"
        ip: "10.1.1.1"
        mask: 24
    
  - name: "H4"
    loopback: "122.1.1.4"
    interfaces:
      - name: "eth0/7"
        ip: "10.1.1.3"
        mask: 24

links:
  # H1 connected to L2Sw (10.1.1.2/24)
  - from_node: "H1"
    from_interface: "eth0/5"
    to_node: "L2Sw"
    to_interface: "eth0/4"
    cost: 1

  # H2 connected to L2Sw (10.1.1.4/24)
  - from_node: "H2"
    from_interface: "eth0/8"
    to_node: "L2Sw"
    to_interface: "eth0/3"
    cost: 1

  # H3 connected to L2Sw (10.1.1.1/24)
  - from_node: "H3"
    from_interface: "eth0/6"
    to_node: "L2Sw"
    to_interface: "eth0/2"
    cost: 1

  # H4 connected to L2Sw (10.1.1.3/24)
  - from_node: "H4"
    from_interface: "eth0/7"
    to_node: "L2Sw"
    to_interface: "eth0/1"
    cost: 1
