topology:
  name: "Multi-Switch VLAN Topology"

nodes:
  - name: "H1"
    loopback: "122.1.1.1"
    interfaces:
      - name: "eth0/1"

  - name: "H2"
    loopback: "122.1.1.2"
    interfaces:
      - name: "eth0/3"

  - name: "H3"
    loopback: "122.1.1.3"
    interfaces:
      - name: "eth0/4"

  - name: "H4"
    loopback: "122.1.1.4"
    interfaces:
      - name: "eth0/11"

  - name: "H5"
    loopback: "122.1.1.5"
    interfaces:
      - name: "eth0/8"

  - name: "H6"
    loopback: "122.1.1.6"
    interfaces:
      - name: "eth0/10"

  - name: "L2SW1"
    interfaces:
      - name: "eth0/1"
        mode: "access"
        vlan: 10
      - name: "eth0/2"
        mode: "access"
        vlan: 10
      - name: "eth0/3"
        mode: "access"
        vlan: 10
      - name: "eth0/4"
        mode: "access"
        vlan: 11
      - name: "eth0/5"
        mode: "trunk"
        native_vlan: 1
        allowed_vlans: [10, 11]
      - name: "eth0/6"
        mode: "access"
        vlan: 11

  - name: "L2SW2"
    interfaces:
      - name: "eth0/7"
        mode: "trunk"
        native_vlan: 1
        allowed_vlans: [10, 11]
      - name: "eth0/8"
        mode: "access"
        vlan: 10
      - name: "eth0/9"
        mode: "access"
        vlan: 10
      - name: "eth0/10"
        mode: "access"
        vlan: 10
      - name: "eth0/11"
        mode: "access"
        vlan: 11
      - name: "eth0/12"
        mode: "access"
        vlan: 11

links:
  # H1 to L2SW1 (VLAN 10 - Access)
  - from_node: "H1"
    from_interface: "eth0/1"
    to_node: "L2SW1"
    to_interface: "eth0/1"

  # H2 to L2SW1 (VLAN 10 - Access)
  - from_node: "H2"
    from_interface: "eth0/3"
    to_node: "L2SW1"
    to_interface: "eth0/3"

  # H3 to L2SW1 (VLAN 11 - Access)
  - from_node: "H3"
    from_interface: "eth0/4"
    to_node: "L2SW1"
    to_interface: "eth0/4"

  # L2SW1 to L2SW2 (Trunk - VLANs 10, 11)
  - from_node: "L2SW1"
    from_interface: "eth0/5"
    to_node: "L2SW2"
    to_interface: "eth0/7"

  # H5 to L2SW2 (VLAN 10 - Access)
  - from_node: "H5"
    from_interface: "eth0/8"
    to_node: "L2SW2"
    to_interface: "eth0/8"

  # H6 to L2SW2 (VLAN 10 - Access)
  - from_node: "H6"
    from_interface: "eth0/10"
    to_node: "L2SW2"
    to_interface: "eth0/10"

  # H4 to L2SW2 (VLAN 11 - Access)
  - from_node: "H4"
    from_interface: "eth0/11"
    to_node: "L2SW2"
    to_interface: "eth0/11"
